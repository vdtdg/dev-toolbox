server {
	listen 80;
	server_name _;

	# This image is built with SvelteKit `paths.base` set (e.g. /dev-toolbox).
	# Redirect root traffic to the configured base path.
	location = / {
		return 302 __BASE_PATH__/;
	}

	location = __BASE_PATH__ {
		return 302 __BASE_PATH__/;
	}

	location __BASE_PATH__/ {
		alias /usr/share/nginx/html/;
		try_files $uri $uri/ /index.html;
	}

	# Prevent accidentally serving the app at / as well.
	location / {
		return 404;
	}
}
